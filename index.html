<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable CV - Fully Customizable</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABILAAASCwAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            line-height: 1.5;
            overflow-x: hidden;
        }

        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 48, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Edit Controls */
        .edit-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            gap: 12px;
            flex-direction: column;
            align-items: flex-end;
        }

        .edit-btn {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: #ffffff;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .edit-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-1px);
        }

        .edit-btn.reset {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.3);
        }

        .edit-btn.reset:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .edit-indicator {
            padding: 8px 16px;
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 8px;
            color: #22c55e;
            font-size: 0.85rem;
            font-weight: 500;
            display: none;
        }

        /* Delete/Add buttons */
        .delete-btn, .add-btn {
            padding: 6px 12px;
            font-size: 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 8px;
            border: none;
        }

        .delete-btn {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        .delete-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .add-btn {
            background: rgba(34, 197, 94, 0.2);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #22c55e;
        }

        .add-btn:hover {
            background: rgba(34, 197, 94, 0.3);
        }

        .section-controls {
            display: flex;
            gap: 8px;
            margin-top: 16px;
            justify-content: center;
        }

        /* Image controls */
        .image-controls {
            position: absolute;
            top: 8px;
            right: 8px;
            display: flex;
            gap: 4px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .image-container:hover .image-controls {
            opacity: 1;
        }

        .image-btn {
            padding: 4px 8px;
            font-size: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            border: none;
            font-weight: 500;
        }

        .change-image-btn {
            background: rgba(79, 209, 197, 0.9);
            color: #0a0a0a;
        }

        .delete-image-btn {
            background: rgba(239, 68, 68, 0.9);
            color: #ffffff;
        }

        /* Editable content styles */
        [data-editable] {
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        [data-editable]:hover {
            background: rgba(255,255,255,0.05);
            padding: 4px;
            margin: -4px;
            border-radius: 4px;
        }

        [data-editable].editing {
            background: rgba(255,255,255,0.1);
            padding: 4px;
            margin: -4px;
            border-radius: 4px;
            outline: 2px solid rgba(79, 209, 197, 0.5);
        }

        /* Header */
        .header {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
        }

        .profile-section {
            margin-bottom: 40px;
        }

        .image-container {
            position: relative;
            display: inline-block;
        }

        .profile-image {
            width: 200px;
            height: 200px;
            border-radius: 20px;
            margin-bottom: 32px;
            object-fit: cover;
            border: 3px solid rgba(255,255,255,0.1);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            margin-top: 32px;
        }

        .name {
            font-size: 4rem;
            font-weight: 200;
            letter-spacing: -2px;
            margin-bottom: 12px;
            color: #ffffff;
        }

        .tagline {
            font-size: 1.25rem;
            color: #9ca3af;
            margin-bottom: 24px;
            font-weight: 400;
        }

        .bio {
            max-width: 520px;
            font-size: 1.1rem;
            line-height: 1.7;
            color: #d1d5db;
            margin-bottom: 32px;
        }

        /* Navigation */
        .nav-container {
            margin-bottom: 60px;
            display: flex;
            justify-content: center;
        }

        .nav {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
            max-width: 600px;
        }

        .nav-item {
            padding: 16px 24px;
            text-align: center;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            font-weight: 500;
            color: #9ca3af;
        }

        .nav-item:hover {
            border-color: rgba(255,255,255,0.2);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            background: rgba(255,255,255,0.08);
        }

        .nav-item.active {
            background: #ffffff;
            color: #1a1a1a;
            border-color: #ffffff;
        }

        /* Contact Links */
        .contact-links {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 24px;
            justify-content: center;
            padding-bottom: 60px;
        }
        .contact-icons {
            display: flex;
            gap: 40px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        .contact-link, .contact-link:visited, .contact-link:active {
            color: #fff !important;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0;
            border-bottom: none;
            transition: color 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .contact-link:hover {
            color: #4fd1c5 !important;
        }
        .contact-icons svg {
            color: #fff;
        }

        /* Content Sections */
        .content {
            min-height: 80vh;
            padding: 80px 0 120px;
        }

        .section {
            display: block;
            animation: fadeIn 0.3s ease-out;
            margin-bottom: 120px;
            padding-bottom: 80px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .section:last-child {
            border-bottom: none;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(16px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 200;
            margin-bottom: 60px;
            letter-spacing: -1px;
            color: #ffffff;
        }

        /* Experience */
        .timeline {
            position: relative;
            padding-left: 32px;
            max-width: 600px;
            margin: 0 auto;
            text-align: left;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 12px;
            top: 0;
            bottom: 0;
            width: 1px;
            background: rgba(255,255,255,0.2);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 48px;
            padding-bottom: 48px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -26px;
            top: 8px;
            width: 8px;
            height: 8px;
            background: #ffffff;
            border-radius: 50%;
        }

        .job-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 4px;
        }

        .company {
            color: #9ca3af;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .date {
            color: #6b7280;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .description {
            color: #d1d5db;
            line-height: 1.6;
            max-width: 500px;
        }

        /* Projects Grid */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 32px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .project-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 32px;
            transition: all 0.2s ease;
            text-align: left;
            position: relative;
        }

        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
            border-color: rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.08);
        }

        .project-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .tech-stack {
            color: #9ca3af;
            font-size: 0.9rem;
            margin-bottom: 16px;
        }

        .project-description {
            color: #d1d5db;
            line-height: 1.6;
        }

        /* Skills */
        .skills-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
        }

        .skill-item {
            padding: 24px 28px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            text-align: center;
            font-size: 0.9rem;
            color: #d1d5db;
            transition: all 0.2s ease;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .skill-item:hover {
            background: rgba(255,255,255,0.08);
            border-color: rgba(255,255,255,0.2);
            color: #ffffff;
        }

        .skill-delete {
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 0.7rem;
            padding: 2px 6px;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .skill-item:hover .skill-delete {
            opacity: 1;
        }

        /* Education */
        .education-list {
            max-width: 600px;
            margin: 0 auto;
        }

        .education-item {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 24px;
            transition: all 0.2s ease;
            text-align: left;
            position: relative;
        }

        .education-item:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
            background: rgba(255,255,255,0.08);
        }

        .degree {
            font-size: 1.2rem;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .school {
            color: #9ca3af;
            margin-bottom: 8px;
        }

        /* Life */
        .life-container {
            max-width: 800px;
            margin: 0 auto;
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: center;
            gap: 24px;
            flex-wrap: wrap;
        }

        .life-image-container {
            position: relative;
            max-width: 240px;
            width: 100%;
            margin-bottom: 0;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .life-image {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }

        .life-image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            padding: 20px;
            text-align: center;
        }

        .life-image-container:hover .life-image-overlay {
            opacity: 1;
        }

        .life-image-container:hover .life-image {
            transform: scale(1.05);
        }

        .overlay-text {
            font-size: 1.1rem;
            font-weight: 500;
            line-height: 1.4;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 0 20px;
            }

            .name {
                font-size: 3rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .nav {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-icons {
                flex-direction: column;
                gap: 16px;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }

            .timeline {
                padding-left: 24px;
            }

            .life-image-container {
                max-width: 100%;
                margin-bottom: 30px;
            }

            .edit-controls {
                top: 10px;
                right: 10px;
            }

            .edit-btn {
                padding: 8px 16px;
                font-size: 0.8rem;
            }
        }

        .typewriter-container {
            min-height: 32px;
        }

        /* Hidden file input */
        .hidden-file-input {
            display: none;
        }

        /* Link edit button */
        .edit-link-btn {
            display: inline-flex;
            align-items: center;
            margin-left: 8px;
            padding: 2px 6px;
            font-size: 0.7rem;
            background: rgba(79, 209, 197, 0.2);
            border: 1px solid rgba(79, 209, 197, 0.3);
            border-radius: 4px;
            color: #4fd1c5;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .contact-link:hover .edit-link-btn {
            opacity: 1;
        }

        .edit-link-btn:hover {
            background: rgba(79, 209, 197, 0.3);
        }

        /* Typewriter controls */
        .typewriter-controls {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 8px;
        }

        .typewriter-btn {
            padding: 4px 10px;
            font-size: 0.75rem;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            color: #9ca3af;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .typewriter-btn:hover {
            background: rgba(255,255,255,0.15);
            color: #ffffff;
        }

        .typewriter-container.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="grain-overlay"></div>

    <!-- Edit Controls -->
    <div class="edit-controls">
        <div class="edit-indicator" id="editIndicator">
            Double-click text to edit
        </div>
        <button class="edit-btn reset" onclick="resetToOriginal()">Reset All</button>
    </div>

    <input type="file" id="imageUpload" class="hidden-file-input" accept="image/*">

    <div class="container">
        <div class="header">
            <div class="profile-section">
                <div class="image-container">
                    <img src="https://cpenniman12.github.io/Cooper-Penniman-CV/assets/images/profile-new.jpg" alt="Profile" class="profile-image" id="profileImage">
                    <div class="image-controls">
                        <button class="image-btn change-image-btn" onclick="changeProfileImage()">Change</button>
                    </div>
                </div>
                <h1 class="name" data-editable="name">Cooper Penniman</h1>
                <div class="typewriter-container" id="typewriterContainer">
                    <span id="typewriter-text" style="font-size:1.25rem; color:#9ca3af; font-weight:400;"></span>
                </div>
                <div class="typewriter-controls">
                    <button class="typewriter-btn" onclick="editTypewriterWords()">Edit Words</button>
                    <button class="typewriter-btn" id="toggleTypewriterBtn" onclick="toggleTypewriter()">Hide</button>
                </div>
            </div>

            <div class="contact-links">
                <div class="contact-icons">
                    <a class="contact-link" id="emailLink" href="mailto:cooperpenniman@gmail.com" title="Email" data-editable-link="email">
                        <svg style="vertical-align:middle; margin-right:6px;" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 20V8.99l8 7 8-7V20H4z"/></svg>
                        <span data-editable="email">cooperpenniman@gmail.com</span>
                        <button class="edit-link-btn" onclick="editLink('email', 'emailLink', 'mailto:', 'Enter email address:'); event.preventDefault();">✏️</button>
                    </a>
                    <span class="contact-link" title="Location" style="cursor:default;">
                        <svg style="vertical-align:middle; margin-right:6px;" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                        <span data-editable="location">New York</span>
                    </span>
                    <a class="contact-link" id="linkedinLink" href="https://www.linkedin.com/in/cooper-penniman/" target="_blank" title="LinkedIn" data-editable-link="linkedin">
                        <svg style="vertical-align:middle; margin-right:6px;" width="20" height="20" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.28c-.97 0-1.75-.79-1.75-1.75s.78-1.75 1.75-1.75 1.75.79 1.75 1.75-.78 1.75-1.75 1.75zm13.5 11.28h-3v-5.6c0-1.34-.03-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7h-3v-10h2.89v1.36h.04c.4-.75 1.37-1.54 2.82-1.54 3.01 0 3.57 1.98 3.57 4.56v5.62z"/></svg>
                        LinkedIn
                        <button class="edit-link-btn" onclick="editLink('linkedin', 'linkedinLink', '', 'Enter LinkedIn URL:'); event.preventDefault();">✏️</button>
                    </a>
                </div>
                <div class="bio" data-editable="bio" style="margin: 24px 0 0 0; color: #b3b3b3; font-size: 1.08rem; text-align: center; width: 100%;">
                    Leveraging technology to solve real problems. Also passionate about Celtics Basketball, AI in education, and mentorship.
                </div>
            </div>

            <div class="nav-container">
                <div class="nav">
                    <div class="nav-item active" onclick="showSection('experience', this)" data-editable="nav1">Experience</div>
                    <div class="nav-item" onclick="showSection('projects', this)" data-editable="nav2">Weekend Projects</div>
                    <div class="nav-item" onclick="showSection('education', this)" data-editable="nav3">Education</div>
                    <div class="nav-item" onclick="showSection('skills', this)" data-editable="nav4">Skills</div>
                    <div class="nav-item" onclick="showSection('life', this)" data-editable="nav5">Life</div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="section active" id="experience">
                <h2 class="section-title" data-editable="exp-title">Experience</h2>
                <div class="timeline" id="experienceTimeline">
                    <div class="timeline-item" data-job-id="1">
                        <div class="job-header">
                            <div class="job-title" data-editable="job1-title">Product Manager</div>
                            <div class="company" data-editable="job1-company">FactSet Research Systems</div>
                            <div class="date" data-editable="job1-date">July 2025 - Present</div>
                        </div>
                        <p class="description" data-editable="job1-description">Leading development of an enterprise agentic chat system that accelerates product discovery and implementation.</p>
                        <button class="delete-btn" onclick="deleteJob(1)">Delete Job</button>
                    </div>

                    <div class="timeline-item" data-job-id="2">
                        <div class="job-header">
                            <div class="job-title" data-editable="job2-title">Implementation Specialist</div>
                            <div class="company" data-editable="job2-company">FactSet Research Systems</div>
                            <div class="date" data-editable="job2-date">November 2022 - July 2025</div>
                        </div>
                        <p class="description" data-editable="job2-description">Served as primary technical contact for enterprise clients implementing FactSet's Datafeeds and APIs.</p>
                        <button class="delete-btn" onclick="deleteJob(2)">Delete Job</button>
                    </div>
                </div>
                <div class="section-controls">
                    <button class="add-btn" onclick="addJob()">+ Add Job</button>
                </div>
            </div>

            <div class="section" id="projects">
                <h2 class="section-title" data-editable="proj-title">Weekend Projects</h2>
                <div class="projects-grid" id="projectsGrid">
                    <div class="project-card" data-project-id="1">
                        <div class="project-title" data-editable="project1-title">Oura Ring/Claude Integration</div>
                        <div class="tech-stack" data-editable="project1-tech">Claude Desktop, Gmail MCP, Oura Ring API</div>
                        <p class="project-description" data-editable="project1-description">My Oura Ring is great though ideally the app would be better at suggesting actions I should take to improve my sleep.</p>
                        <button class="delete-btn" onclick="deleteProject(1)">Delete Project</button>
                    </div>

                    <div class="project-card" data-project-id="2">
                        <div class="project-title" data-editable="project2-title">Custom Podcast Generator</div>
                        <div class="tech-stack" data-editable="project2-tech">TypeScript, OpenAI, TTS, Brave Search</div>
                        <p class="project-description" data-editable="project2-description">AI-powered web app to retrieve the latest AI news after my favorite daily news podcast was discontinued.</p>
                        <button class="delete-btn" onclick="deleteProject(2)">Delete Project</button>
                    </div>
                </div>
                <div class="section-controls">
                    <button class="add-btn" onclick="addProject()">+ Add Project</button>
                </div>
            </div>

            <div class="section" id="education">
                <h2 class="section-title" data-editable="edu-title">Education</h2>
                <div class="education-list" id="educationList">
                    <div class="education-item" data-edu-id="1">
                        <div class="degree" data-editable="degree1">B.S. in Mathematics (Statistics Concentration); B.A. Economics</div>
                        <div class="school" data-editable="school1">University of Massachusetts, Amherst</div>
                        <div class="date" data-editable="edu-date1">September 2017 - June 2021</div>
                        <p class="description" data-editable="edu-desc1">Conducted semester-long research project analyzing the impact of financial transaction tax.</p>
                        <button class="delete-btn" onclick="deleteEducation(1)">Delete</button>
                    </div>
                </div>
                <div class="section-controls">
                    <button class="add-btn" onclick="addEducation()">+ Add Education</button>
                </div>
            </div>

            <div class="section" id="skills">
                <h2 class="section-title" data-editable="skills-title">Skills</h2>
                <div class="skills-container">
                    <div class="skills-grid" id="skillsGrid">
                        <div class="skill-item" data-skill-id="1">
                            <span data-editable="skill1">LangGraph</span>
                            <button class="skill-delete delete-btn" onclick="deleteSkill(1)">×</button>
                        </div>
                        <div class="skill-item" data-skill-id="2">
                            <span data-editable="skill2">MCP</span>
                            <button class="skill-delete delete-btn" onclick="deleteSkill(2)">×</button>
                        </div>
                        <div class="skill-item" data-skill-id="3">
                            <span data-editable="skill3">SQL</span>
                            <button class="skill-delete delete-btn" onclick="deleteSkill(3)">×</button>
                        </div>
                        <div class="skill-item" data-skill-id="4">
                            <span data-editable="skill4">Python</span>
                            <button class="skill-delete delete-btn" onclick="deleteSkill(4)">×</button>
                        </div>
                    </div>
                </div>
                <div class="section-controls">
                    <button class="add-btn" onclick="addSkill()">+ Add Skill</button>
                </div>
            </div>

            <div class="section" id="life">
                <h2 class="section-title" data-editable="life-title">Life</h2>
                <div class="life-container" id="lifeContainer">
                    <div class="life-image-container" data-life-id="1">
                        <img src="https://cpenniman12.github.io/Cooper-Penniman-CV/assets/images/life-nyc.png" alt="Life moment" class="life-image">
                        <div class="life-image-overlay">
                            <div class="overlay-text" data-editable="life1">Moving to New York from Boston in fall of 2023.</div>
                        </div>
                        <div class="image-controls">
                            <button class="image-btn change-image-btn" onclick="changeLifeImage(1)">Change</button>
                            <button class="image-btn delete-image-btn" onclick="deleteLifeImage(1)">Delete</button>
                        </div>
                    </div>

                    <div class="life-image-container" data-life-id="2">
                        <img src="https://cpenniman12.github.io/Cooper-Penniman-CV/assets/images/life-shanghai.png" alt="Life moment" class="life-image">
                        <div class="life-image-overlay">
                            <div class="overlay-text" data-editable="life2">View of the Shanghai Skyline from my trip to China in December, 2024.</div>
                        </div>
                        <div class="image-controls">
                            <button class="image-btn change-image-btn" onclick="changeLifeImage(2)">Change</button>
                            <button class="image-btn delete-image-btn" onclick="deleteLifeImage(2)">Delete</button>
                        </div>
                    </div>
                </div>
                <div class="section-controls">
                    <button class="add-btn" onclick="addLifeImage()">+ Add Image</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Storage keys
        const STORAGE_KEY = 'cvEdits';
        const STRUCTURE_KEY = 'cvStructure';

        // Original content storage
        const originalContent = {};
        let nextJobId = 3;
        let nextProjectId = 3;
        let nextEduId = 2;
        let nextSkillId = 5;
        let nextLifeId = 3;

        // Current image upload context
        let currentImageContext = null;

        // Typewriter words
        const defaultTypewriterWords = [
            "Solution Designer",
            "Disruptor",
            "Technologist",
            "Developer",
            "Strategist",
            "Collaborator"
        ];
        let typewriterWords = [...defaultTypewriterWords];
        let typewriterVisible = true;

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            captureOriginalContent();
            loadAllData();
            initializeEditableContent();
            typeLoop();

            // Show edit indicator
            document.getElementById('editIndicator').style.display = 'block';
            setTimeout(() => {
                document.getElementById('editIndicator').style.display = 'none';
            }, 5000);
        });

        // Capture original content
        function captureOriginalContent() {
            const editableElements = document.querySelectorAll('[data-editable]');
            editableElements.forEach(element => {
                const key = element.getAttribute('data-editable');
                originalContent[key] = element.textContent || element.innerHTML;
            });

            // Store profile image
            originalContent['profileImageSrc'] = document.getElementById('profileImage').src;

            // Store original links
            originalContent['emailLink'] = 'mailto:cooperpenniman@gmail.com';
            originalContent['linkedinLink'] = 'https://www.linkedin.com/in/cooper-penniman/';
        }

        // Initialize editable content
        function initializeEditableContent() {
            document.addEventListener('dblclick', function(e) {
                const editableElement = e.target.closest('[data-editable]');
                if (editableElement) {
                    e.stopPropagation();
                    makeEditable(editableElement);
                }
            });
        }

        // Make element editable
        function makeEditable(element) {
            if (element.contentEditable === 'true') return;

            const key = element.getAttribute('data-editable');
            const originalText = element.textContent;

            element.contentEditable = true;
            element.classList.add('editing');
            element.focus();

            // Select all text
            const range = document.createRange();
            range.selectNodeContents(element);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);

            // Save on blur or Enter key
            const saveEdit = () => {
                element.contentEditable = false;
                element.classList.remove('editing');

                const newText = element.textContent;
                if (newText !== originalText) {
                    saveToLocalStorage(key, newText);
                }
            };

            element.addEventListener('blur', saveEdit, { once: true });
            element.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    element.blur();
                } else if (e.key === 'Escape') {
                    element.textContent = originalText;
                    element.blur();
                }
            }, { once: true });
        }

        // Save to localStorage
        function saveToLocalStorage(key, value) {
            try {
                const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
                data[key] = value;
                localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            } catch (e) {
                console.error('Error saving to localStorage:', e);
            }
        }

        // Load from localStorage
        function loadFromLocalStorage() {
            try {
                const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');

                Object.keys(data).forEach(key => {
                    const element = document.querySelector(`[data-editable="${key}"]`);
                    if (element) {
                        element.textContent = data[key];
                    }
                });

                // Load profile image
                if (data['profileImageSrc']) {
                    document.getElementById('profileImage').src = data['profileImageSrc'];
                }

                // Load links
                if (data['emailLink']) {
                    document.getElementById('emailLink').href = data['emailLink'];
                }
                if (data['linkedinLink']) {
                    document.getElementById('linkedinLink').href = data['linkedinLink'];
                }

                // Load typewriter settings
                if (data['typewriterWords']) {
                    typewriterWords = JSON.parse(data['typewriterWords']);
                }
                if (data['typewriterVisible'] !== undefined) {
                    typewriterVisible = data['typewriterVisible'];
                    updateTypewriterVisibility();
                }
            } catch (e) {
                console.error('Error loading from localStorage:', e);
            }
        }

        // Save structure (jobs, projects, etc.)
        function saveStructure() {
            const structure = {
                jobs: Array.from(document.querySelectorAll('[data-job-id]')).map(el => ({
                    id: el.dataset.jobId,
                    html: el.outerHTML
                })),
                projects: Array.from(document.querySelectorAll('[data-project-id]')).map(el => ({
                    id: el.dataset.projectId,
                    html: el.outerHTML
                })),
                education: Array.from(document.querySelectorAll('[data-edu-id]')).map(el => ({
                    id: el.dataset.eduId,
                    html: el.outerHTML
                })),
                skills: Array.from(document.querySelectorAll('[data-skill-id]')).map(el => ({
                    id: el.dataset.skillId,
                    html: el.outerHTML
                })),
                life: Array.from(document.querySelectorAll('[data-life-id]')).map(el => ({
                    id: el.dataset.lifeId,
                    html: el.outerHTML
                })),
                nextIds: { nextJobId, nextProjectId, nextEduId, nextSkillId, nextLifeId }
            };

            localStorage.setItem(STRUCTURE_KEY, JSON.stringify(structure));
        }

        // Load structure
        function loadStructure() {
            try {
                const structure = JSON.parse(localStorage.getItem(STRUCTURE_KEY));
                if (!structure) return;

                // Restore IDs
                if (structure.nextIds) {
                    nextJobId = structure.nextIds.nextJobId || nextJobId;
                    nextProjectId = structure.nextIds.nextProjectId || nextProjectId;
                    nextEduId = structure.nextIds.nextEduId || nextEduId;
                    nextSkillId = structure.nextIds.nextSkillId || nextSkillId;
                    nextLifeId = structure.nextIds.nextLifeId || nextLifeId;
                }

                // Restore jobs
                if (structure.jobs && structure.jobs.length) {
                    const timeline = document.getElementById('experienceTimeline');
                    timeline.innerHTML = structure.jobs.map(j => j.html).join('');
                }

                // Restore projects
                if (structure.projects && structure.projects.length) {
                    const grid = document.getElementById('projectsGrid');
                    grid.innerHTML = structure.projects.map(p => p.html).join('');
                }

                // Restore education
                if (structure.education && structure.education.length) {
                    const list = document.getElementById('educationList');
                    list.innerHTML = structure.education.map(e => e.html).join('');
                }

                // Restore skills
                if (structure.skills && structure.skills.length) {
                    const grid = document.getElementById('skillsGrid');
                    grid.innerHTML = structure.skills.map(s => s.html).join('');
                }

                // Restore life images
                if (structure.life && structure.life.length) {
                    const container = document.getElementById('lifeContainer');
                    container.innerHTML = structure.life.map(l => l.html).join('');
                }
            } catch (e) {
                console.error('Error loading structure:', e);
            }
        }

        // Load all data
        function loadAllData() {
            loadStructure();
            loadFromLocalStorage();
        }

        // Add Job
        function addJob() {
            const timeline = document.getElementById('experienceTimeline');
            const newJob = document.createElement('div');
            newJob.className = 'timeline-item';
            newJob.dataset.jobId = nextJobId;

            newJob.innerHTML = `
                <div class="job-header">
                    <div class="job-title" data-editable="job${nextJobId}-title">New Job Title</div>
                    <div class="company" data-editable="job${nextJobId}-company">Company Name</div>
                    <div class="date" data-editable="job${nextJobId}-date">Start Date - End Date</div>
                </div>
                <p class="description" data-editable="job${nextJobId}-description">Job description goes here.</p>
                <button class="delete-btn" onclick="deleteJob(${nextJobId})">Delete Job</button>
            `;

            timeline.appendChild(newJob);
            nextJobId++;
            saveStructure();
        }

        // Delete Job
        function deleteJob(id) {
            if (confirm('Delete this job?')) {
                const job = document.querySelector(`[data-job-id="${id}"]`);
                if (job) {
                    job.remove();
                    saveStructure();
                }
            }
        }

        // Add Project
        function addProject() {
            const grid = document.getElementById('projectsGrid');
            const newProject = document.createElement('div');
            newProject.className = 'project-card';
            newProject.dataset.projectId = nextProjectId;

            newProject.innerHTML = `
                <div class="project-title" data-editable="project${nextProjectId}-title">New Project</div>
                <div class="tech-stack" data-editable="project${nextProjectId}-tech">Technologies used</div>
                <p class="project-description" data-editable="project${nextProjectId}-description">Project description.</p>
                <button class="delete-btn" onclick="deleteProject(${nextProjectId})">Delete Project</button>
            `;

            grid.appendChild(newProject);
            nextProjectId++;
            saveStructure();
        }

        // Delete Project
        function deleteProject(id) {
            if (confirm('Delete this project?')) {
                const project = document.querySelector(`[data-project-id="${id}"]`);
                if (project) {
                    project.remove();
                    saveStructure();
                }
            }
        }

        // Add Education
        function addEducation() {
            const list = document.getElementById('educationList');
            const newEdu = document.createElement('div');
            newEdu.className = 'education-item';
            newEdu.dataset.eduId = nextEduId;

            newEdu.innerHTML = `
                <div class="degree" data-editable="degree${nextEduId}">Degree Name</div>
                <div class="school" data-editable="school${nextEduId}">School Name</div>
                <div class="date" data-editable="edu-date${nextEduId}">Start - End Date</div>
                <p class="description" data-editable="edu-desc${nextEduId}">Description of your education.</p>
                <button class="delete-btn" onclick="deleteEducation(${nextEduId})">Delete</button>
            `;

            list.appendChild(newEdu);
            nextEduId++;
            saveStructure();
        }

        // Delete Education
        function deleteEducation(id) {
            if (confirm('Delete this education entry?')) {
                const edu = document.querySelector(`[data-edu-id="${id}"]`);
                if (edu) {
                    edu.remove();
                    saveStructure();
                }
            }
        }

        // Add Skill
        function addSkill() {
            const grid = document.getElementById('skillsGrid');
            const newSkill = document.createElement('div');
            newSkill.className = 'skill-item';
            newSkill.dataset.skillId = nextSkillId;

            newSkill.innerHTML = `
                <span data-editable="skill${nextSkillId}">New Skill</span>
                <button class="skill-delete delete-btn" onclick="deleteSkill(${nextSkillId})">×</button>
            `;

            grid.appendChild(newSkill);
            nextSkillId++;
            saveStructure();
        }

        // Delete Skill
        function deleteSkill(id) {
            const skill = document.querySelector(`[data-skill-id="${id}"]`);
            if (skill) {
                skill.remove();
                saveStructure();
            }
        }

        // Change Profile Image
        function changeProfileImage() {
            currentImageContext = { type: 'profile' };
            document.getElementById('imageUpload').click();
        }

        // Change Life Image
        function changeLifeImage(id) {
            currentImageContext = { type: 'life', id: id };
            document.getElementById('imageUpload').click();
        }

        // Add Life Image
        function addLifeImage() {
            const container = document.getElementById('lifeContainer');
            const newLife = document.createElement('div');
            newLife.className = 'life-image-container';
            newLife.dataset.lifeId = nextLifeId;

            newLife.innerHTML = `
                <img src="https://via.placeholder.com/300x400" alt="Life moment" class="life-image">
                <div class="life-image-overlay">
                    <div class="overlay-text" data-editable="life${nextLifeId}">New caption</div>
                </div>
                <div class="image-controls">
                    <button class="image-btn change-image-btn" onclick="changeLifeImage(${nextLifeId})">Change</button>
                    <button class="image-btn delete-image-btn" onclick="deleteLifeImage(${nextLifeId})">Delete</button>
                </div>
            `;

            container.appendChild(newLife);
            nextLifeId++;
            saveStructure();
        }

        // Delete Life Image
        function deleteLifeImage(id) {
            if (confirm('Delete this image?')) {
                const img = document.querySelector(`[data-life-id="${id}"]`);
                if (img) {
                    img.remove();
                    saveStructure();
                }
            }
        }

        // Edit Link
        function editLink(key, elementId, prefix, promptMessage) {
            const linkElement = document.getElementById(elementId);
            const currentHref = linkElement.href;

            // Remove prefix for display (e.g., "mailto:")
            let currentValue = currentHref;
            if (prefix && currentHref.startsWith(prefix)) {
                currentValue = currentHref.substring(prefix.length);
            }

            const newValue = prompt(promptMessage, currentValue);

            if (newValue !== null && newValue.trim() !== '') {
                const newHref = prefix ? prefix + newValue.trim() : newValue.trim();
                linkElement.href = newHref;
                saveToLocalStorage(key + 'Link', newHref);

                // Also update the text if it's an email
                if (key === 'email') {
                    const emailSpan = linkElement.querySelector('[data-editable="email"]');
                    if (emailSpan) {
                        emailSpan.textContent = newValue.trim();
                        saveToLocalStorage('email', newValue.trim());
                    }
                }
            }
        }

        // Edit Typewriter Words
        function editTypewriterWords() {
            const currentWords = typewriterWords.join(', ');
            const instructions = 'Enter words separated by commas:\n(e.g., "Developer, Designer, Creator")';
            const newWords = prompt(instructions, currentWords);

            if (newWords !== null) {
                const wordsArray = newWords.split(',').map(w => w.trim()).filter(w => w.length > 0);

                if (wordsArray.length > 0) {
                    typewriterWords = wordsArray;
                    saveToLocalStorage('typewriterWords', JSON.stringify(typewriterWords));

                    // Restart typewriter effect with new words
                    wordIndex = 0;
                    charIndex = 0;
                    isDeleting = false;
                } else {
                    alert('Please enter at least one word.');
                }
            }
        }

        // Toggle Typewriter Visibility
        function toggleTypewriter() {
            typewriterVisible = !typewriterVisible;
            saveToLocalStorage('typewriterVisible', typewriterVisible);
            updateTypewriterVisibility();
        }

        // Update Typewriter Visibility
        function updateTypewriterVisibility() {
            const container = document.getElementById('typewriterContainer');
            const toggleBtn = document.getElementById('toggleTypewriterBtn');

            if (typewriterVisible) {
                container.classList.remove('hidden');
                toggleBtn.textContent = 'Hide';
            } else {
                container.classList.add('hidden');
                toggleBtn.textContent = 'Show';
            }
        }

        // Handle image upload
        document.getElementById('imageUpload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(event) {
                const dataUrl = event.target.result;

                if (currentImageContext.type === 'profile') {
                    document.getElementById('profileImage').src = dataUrl;
                    saveToLocalStorage('profileImageSrc', dataUrl);
                } else if (currentImageContext.type === 'life') {
                    const img = document.querySelector(`[data-life-id="${currentImageContext.id}"] .life-image`);
                    if (img) {
                        img.src = dataUrl;
                        saveToLocalStorage(`lifeImage${currentImageContext.id}`, dataUrl);
                        saveStructure();
                    }
                }
            };

            reader.readAsDataURL(file);
            e.target.value = ''; // Reset input
        });

        // Reset to original
        function resetToOriginal() {
            if (!confirm('Reset everything to original? This cannot be undone.')) {
                return;
            }

            localStorage.removeItem(STORAGE_KEY);
            localStorage.removeItem(STRUCTURE_KEY);
            location.reload();
        }

        // Navigation
        function showSection(sectionName, clickedElement) {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            if (clickedElement) {
                clickedElement.classList.add('active');
            }

            const targetSection = document.getElementById(sectionName);
            if (targetSection) {
                targetSection.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Typewriter effect variables
        let wordIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let speed = 80;
        const typewriter = document.getElementById('typewriter-text');

        function typeLoop() {
            if (!typewriterVisible || typewriterWords.length === 0) {
                return;
            }

            const currentWord = typewriterWords[wordIndex];
            if (!isDeleting && charIndex <= currentWord.length) {
                typewriter.textContent = currentWord.substring(0, charIndex);
                charIndex++;
                if (charIndex > currentWord.length) {
                    setTimeout(() => { isDeleting = true; typeLoop(); }, 1000);
                    return;
                }
            } else if (isDeleting && charIndex >= 0) {
                typewriter.textContent = currentWord.substring(0, charIndex);
                charIndex--;
                if (charIndex < 0) {
                    isDeleting = false;
                    wordIndex = (wordIndex + 1) % typewriterWords.length;
                    setTimeout(typeLoop, 500);
                    return;
                }
            }
            setTimeout(typeLoop, speed);
        }
    </script>
</body>
</html>
